---
layout: post
status: publish
published: true
title: ! 'Diary #5: a very short demo'
author:
  display_name: Andrea Dainese
  login: admin
  email: andrea.dainese@gmail.com
  url: ''
author_login: admin
author_email: andrea.dainese@gmail.com
excerpt: ! "This post will show step by step how UNetLab works. After installation
  a Web User Interface (Web-UI) is available trough http protocol:\r\n\r\n<a href=\"/images/posts/2014/10/demo1.png\"><img
  class=\"aligncenter wp-image-33\" src=\"/images/posts/2014/10/demo1.png\"
  alt=\"Demo #1\" width=\"300\" height=\"155\" /></a>\r\n\r\n \r\n\r\n"
wordpress_id: 32
wordpress_url: http://www.unetlab.com/?p=32
date: !binary |-
  MjAxNC0xMC0wNiAxMzoyNzo1NyArMDIwMA==
date_gmt: !binary |-
  MjAxNC0xMC0wNiAxMToyNzo1NyArMDIwMA==
categories:
- Diary
tags:
- Diary
comments:
- id: 7349
  author: Gennadiy Shutikov
  author_email: big_gena@mail.ru
  author_url: ''
  date: !binary |-
    MjAxNC0xMC0wNiAxMzo0NDozNiArMDIwMA==
  date_gmt: !binary |-
    MjAxNC0xMC0wNiAxMTo0NDozNiArMDIwMA==
  content: Andrea, your work looks very promising and more useful than alternatives
    developed by not single author but teams. Thank you for your work. Will you release
    unetlab shortly?
- id: 7350
  author: admin
  author_email: andrea.dainese@gmail.com
  author_url: ''
  date: !binary |-
    MjAxNC0xMC0wNiAxMzo0NjoxOCArMDIwMA==
  date_gmt: !binary |-
    MjAxNC0xMC0wNiAxMTo0NjoxOCArMDIwMA==
  content: Honestly I don't know. I hope to release a sort of beta shortly, but UNetLab
    is not my highest priority.
- id: 7351
  author: john
  author_email: j.jackson20@yahoo.com
  author_url: ''
  date: !binary |-
    MjAxNC0xMC0wOCAxOToyMjowNyArMDIwMA==
  date_gmt: !binary |-
    MjAxNC0xMC0wOCAxNzoyMjowNyArMDIwMA==
  content: when do you think this will be ready?
- id: 7352
  author: Sherief
  author_email: hamalawy@gmail.com
  author_url: http:switchpacket.blogspot.com
  date: !binary |-
    MjAxNC0xMC0yNCAwMTozOTo0MyArMDIwMA==
  date_gmt: !binary |-
    MjAxNC0xMC0yMyAyMzozOTo0MyArMDIwMA==
  content: It would be amazing if juniper virtual route reflector which is an image
    based on the MX router is being integrated with unet. Firefly has serious limitations
    with Ethernet services and most of the SP stuff while the VRR is fully capable
    of all the good stuff :) yet it only works on Qemu .
- id: 7353
  author: admin
  author_email: andrea.dainese@gmail.com
  author_url: ''
  date: !binary |-
    MjAxNC0xMC0yNCAwODozMToxMyArMDIwMA==
  date_gmt: !binary |-
    MjAxNC0xMC0yNCAwNjozMToxMyArMDIwMA==
  content: If you're referring to vSRX, it's already supported!
- id: 7354
  author: Sherief
  author_email: hamalawy@gmail.com
  author_url: http:switchpacket.blogspot.com
  date: !binary |-
    MjAxNC0xMC0yNSAwODowOTo1NiArMDIwMA==
  date_gmt: !binary |-
    MjAxNC0xMC0yNSAwNjowOTo1NiArMDIwMA==
  content: vSRX is a virtual image of a firewall. The image I'm talking about is a
    MX router image. I'm pretty sure you'll do something about it ;)
- id: 7355
  author: admin
  author_email: andrea.dainese@gmail.com
  author_url: ''
  date: !binary |-
    MjAxNC0xMC0yOCAxMToyNDozNCArMDEwMA==
  date_gmt: !binary |-
    MjAxNC0xMC0yOCAxMDoyNDozNCArMDEwMA==
  content: Could you provide a link? Or just drop me an email.
- id: 7390
  author: Shariful Hoque
  author_email: sajiby3k@yahoo.com
  author_url: ''
  date: !binary |-
    MjAxNC0xMS0wNSAwNDoyOTo0OSArMDEwMA==
  date_gmt: !binary |-
    MjAxNC0xMS0wNSAwMzoyOTo0OSArMDEwMA==
  content: Is there any way to connect between two IOL instances via ethernet interfaces?
    I can connect only them via serial interfaces. If I go to edit interfaces it shows
    only serial interfaces?
- id: 7397
  author: admin
  author_email: andrea.dainese@gmail.com
  author_url: ''
  date: !binary |-
    MjAxNC0xMS0wNSAwODozMDo0OSArMDEwMA==
  date_gmt: !binary |-
    MjAxNC0xMS0wNSAwNzozMDo0OSArMDEwMA==
  content: Nodes can be connected to networks only.
- id: 7648
  author: J
  author_email: j.jackson20@yahoo.com
  author_url: ''
  date: !binary |-
    MjAxNC0xMi0wNSAxNzozMDoyNiArMDEwMA==
  date_gmt: !binary |-
    MjAxNC0xMi0wNSAxNjozMDoyNiArMDEwMA==
  content: Question, how are you lab simulations different from GNS3 and the newly
    released Cisco VIRL?
- id: 7664
  author: admin
  author_email: andrea.dainese@gmail.com
  author_url: ''
  date: !binary |-
    MjAxNC0xMi0wOCAyMTo0Njo0OCArMDEwMA==
  date_gmt: !binary |-
    MjAxNC0xMi0wOCAyMDo0Njo0OCArMDEwMA==
  content: ! 'GNS3: must be installed on a Windows/Mac/Linux system. It uses
    a GUI, it''s focused on Dynamips and it requires external vm for IOU/IOL and
    other virtual appliance. Usually it''s not easy implement and redistribute mixed
    labs (mixed means Dynamips + OU/IOL + QEMU). GNS3 is free.


    VIRL: it needs a VM or a dedicated server, it uses a GUI available for MAC and
    Windows system only. It''s based on OpenStack and it can run i386/x86_64 VMs
    only. The cheapest VIRL version supports up to 15 devices.


    UNetLab: it needs a VM or a dedicated server, a Web-UI is available and (in the
    next version) REST APIs. It supports QEMU IOU/IOL and Dynamips devices. A
    lab is a single, portable, file. You can run a lab with IOU/IOL, Dynamips
    and QEMU VMs using a single VM/server. For example some users are implementing
    a full CCIE Sec rack using UNetLab, and the lab can run within a single VM. UNetLab
    is free.'
- id: 9000
  author: Tom
  author_email: techniciansupport@windowslive.com
  author_url: ''
  date: !binary |-
    MjAxNS0wNC0wOCAwMzoxNToxNCArMDIwMA==
  date_gmt: !binary |-
    MjAxNS0wNC0wOCAwMToxNToxNCArMDIwMA==
  content: ! "Error  : Cannot call API (\"/api/labs/1111.unl/nodes/1/position\").\r\n\r\nHow
    to?"
- id: 9352
  author: Badar
  author_email: badernfc@yahoo.com
  author_url: http://nil
  date: !binary |-
    MjAxNS0wNS0wOSAxMzo1MDo1MiArMDIwMA==
  date_gmt: !binary |-
    MjAxNS0wNS0wOSAxMTo1MDo1MiArMDIwMA==
  content: ! "Cannot call API (\"/api/labs/MYLAB.unl/nodes/start\").\r\n0.9.0-26"
---

This post will show step by step how UNetLab works. After installation a Web User Interface (Web-UI) is available trough http protocol:

<a href="/images/posts/2014/10/demo1.png"><img class="aligncenter wp-image-33" src="/images/posts/2014/10/demo1.png" alt="Demo #1" width="300" height="155" /></a>

 

<a id="more"></a><a id="more-32"></a>

The Web-UI is based on Bootstrap and theme will be redesigned by a friend soon. And I wan to publicly thank her. The Labs tab will store all available labs:

<a href="/images/posts/2014/10/demo2.png"><img class="aligncenter wp-image-34" src="/images/posts/2014/10/demo2.png" alt="Demo #2" width="299" height="104" /></a>

Each lab is a file, each folder is a directory stored under /opt/unetlab/labs.  Under Actions, let's add a folder:

<a href="/images/posts/2014/10/demo4.png"><img class="aligncenter wp-image-35" src="/images/posts/2014/10/demo4.png" alt="Demo #3" width="301" height="78" /></a>

Fill the name field, and confirm. Because the theme will be redesigned soon, graphics bugs will be fixed on final theme. Now we can see the new folder:

<a href="/images/posts/2014/10/demo5.png"><img class="aligncenter wp-image-36" src="/images/posts/2014/10/demo5.png" alt="Demo #4" width="299" height="109" /></a>

Now enter in the directory and add a new lab:

<a href="/images/posts/2014/10/demo6.png"><img class="aligncenter wp-image-37" src="/images/posts/2014/10/demo6.png" alt="Demo #5" width="300" height="126" /></a>

The only one mandatory field is the lab name. After pressing the add button, devices and networks can be added:

<a href="/images/posts/2014/10/demo7.png"><img class="aligncenter wp-image-38" src="/images/posts/2014/10/demo7.png" alt="Demo #6" width="301" height="137" /></a>

Let's assume we want 2 routers and two networks. Let's add two networks:

<a href="/images/posts/2014/10/demo8.png"><img class="aligncenter wp-image-39" src="/images/posts/2014/10/demo8.png" alt="Demo #7" width="300" height="113" /></a>

When more than one network will be added, the network id is attached to the name. Drag and drop networks:

<a href="/images/posts/2014/10/demo9.png"><img class="aligncenter wp-image-40" src="/images/posts/2014/10/demo9.png" alt="Demo #8" width="300" height="273" /></a>

Now add  two 1710 routers, two vIOS routers and two IOL routers:

<a href="/images/posts/2014/10/demo10.png"><img class="aligncenter wp-image-42" src="/images/posts/2014/10/demo10.png" alt="Demo #9" width="300" height="215" /></a>

All parameters are pre configured by default. We need to specify how many devices we want to create and we select the startup configuration (valid for Dyamips and IOL nodes only)  Add all routers and drag and drop to position them:

<a href="/images/posts/2014/10/demo11.png"><img class="aligncenter wp-image-43" src="/images/posts/2014/10/demo11.png" alt="Demo #10" width="300" height="341" /></a>

Now right click on each node and configure interfaces (currently Serial interfaces are supported on IOL nodes only):

<a href="/images/posts/2014/10/demo12.png"><img class="aligncenter wp-image-44" src="/images/posts/2014/10/demo12.png" alt="Demo #11" width="300" height="209" /></a>

Now the topology is complete:

<a href="/images/posts/2014/10/demo13.png"><img class="aligncenter wp-image-45" src="/images/posts/2014/10/demo13.png" alt="Demo #12" width="300" height="359" /></a>

Select Actions -> Open this lab, and start each node using the context menu:

<a href="/images/posts/2014/10/demo14.png"><img class="aligncenter wp-image-46" src="/images/posts/2014/10/demo14.png" alt="Demo #13" width="300" height="292" /></a>

As you can see, each node shows a play/stop icon, reflecting its status. Dynamips and IOL nodes are pre configured with hostname, a loopback and a EIGRP process:
~~~
c1710-1#show cdp neighbors
Capability Codes: R - Router, T - Trans Bridge, B - Source Route Bridge
                  S - Switch, H - Host, I - IGMP, r - Repeater

Device ID        Local Intrfce     Holdtme    Capability  Platform  Port ID
IOL-3            Eth 0              149         R B       Linux Uni Eth 0/0
IOL-2            Eth 0              149         R B       Linux Uni Eth 0/0
c1710-1#show ip route
Codes: C - connected, S - static, R - RIP, M - mobile, B - BGP
       D - EIGRP, EX - EIGRP external, O - OSPF, IA - OSPF inter area
       N1 - OSPF NSSA external type 1, N2 - OSPF NSSA external type 2
       E1 - OSPF external type 1, E2 - OSPF external type 2
       i - IS-IS, su - IS-IS summary, L1 - IS-IS level-1, L2 - IS-IS level-2
       ia - IS-IS inter area, * - candidate default, U - per-user static route
       o - ODR, P - periodic downloaded static route

Gateway of last resort is not set

     10.0.0.0/8 is variably subnetted, 6 subnets, 2 masks
D       10.3.1.0/24 [90/307200] via 10.3.0.4, 00:00:35, Ethernet0
                    [90/307200] via 10.3.0.3, 00:00:35, Ethernet0
C       10.3.0.0/24 is directly connected, Ethernet0
D       10.3.23.0/24 [90/2195456] via 10.3.0.4, 00:00:35, Ethernet0
                     [90/2195456] via 10.3.0.3, 00:00:35, Ethernet0
D       10.3.255.4/32 [90/409600] via 10.3.0.4, 00:00:35, Ethernet0
C       10.3.255.2/32 is directly connected, Loopback0
D       10.3.255.3/32 [90/409600] via 10.3.0.3, 00:00:36, Ethernet0
c1710-1#show cdp neighbors
Capability Codes: R - Router, T - Trans Bridge, B - Source Route Bridge
                  S - Switch, H - Host, I - IGMP, r - Repeater

Device ID        Local Intrfce     Holdtme    Capability  Platform  Port ID
IOL-3            Eth 0              135         R B       Linux Uni Eth 0/0
IOL-2            Eth 0              135         R B       Linux Uni Eth 0/0
c1710-1#show ip eigrp neighbors
IP-EIGRP neighbors for process 3
H   Address                 Interface       Hold Uptime   SRTT   RTO  Q  Seq
                                            (sec)         (ms)       Cnt Num
1   10.3.0.4                Et0               14 00:00:48   19   200  0  14
0   10.3.0.3                Et0               11 00:00:48   23   200  0  11
c1710-1#ping 10.3.255.4

Type escape sequence to abort.
Sending 5, 100-byte ICMP Echos to 10.3.255.4, timeout is 2 seconds:
!!!!!
Success rate is 100 percent (5/5), round-trip min/avg/max = 1/2/4 ms
~~~
Sounds good, isn't it?
